(this["webpackJsonpquadtree-app"]=this["webpackJsonpquadtree-app"]||[]).push([[0],{32:function(e,t,n){e.exports=n(42)},33:function(e,t,n){},38:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);n(33);var i=n(0),l=n.n(i),a=n(12),s=n.n(a),o=n(18),r=(n(38),n(43)),h=n(59),c=n(61),d=n(60),u=n(19),m=n(26),v=function e(t,n,i,l){Object(u.a)(this,e),this.x=t,this.y=n,this.size=i},b=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;function s(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}Object(u.a)(this,e),this.level=t,this.color=l[s(0,l.length)],this.maxLevels=n,this.bounds=i,this.parent=a,this.highlighted=!1,this.children=[],this.colorList=l}return Object(m.a)(e,[{key:"split",value:function(){if(0===this.children.length&&this.level!==this.maxLevels){var t=this.bounds.size/2,n=this.bounds.x,i=this.bounds.y;this.color=null,this.children[0]=new e(this.level+1,this.maxLevels,new v(n+t,i,t),this.colorList,this),this.children[1]=new e(this.level+1,this.maxLevels,new v(n,i,t),this.colorList,this),this.children[2]=new e(this.level+1,this.maxLevels,new v(n,i+t,t),this.colorList,this),this.children[3]=new e(this.level+1,this.maxLevels,new v(n+t,i+t,t),this.colorList,this)}}},{key:"smash",value:function(){if(0!==this.level&&this.level!==this.maxLevels){var t=this.bounds.size/2,n=this.bounds.x,i=this.bounds.y;this.color=null,this.children[0]=new e(this.level+1,this.maxLevels,new v(n+t,i,t),this.colorList,this),this.children[1]=new e(this.level+1,this.maxLevels,new v(n,i,t),this.colorList,this),this.children[2]=new e(this.level+1,this.maxLevels,new v(n,i+t,t),this.colorList,this),this.children[3]=new e(this.level+1,this.maxLevels,new v(n+t,i+t,t),this.colorList,this)}}},{key:"swap",value:function(e){0!==this.children.length&&(1===e?(this.swapNodes(this.children[0],this.children[3]),this.swapNodes(this.children[1],this.children[2])):0===e&&(this.swapNodes(this.children[1],this.children[0]),this.swapNodes(this.children[2],this.children[3])))}},{key:"swapNodes",value:function(e,t){var n=e,i={x:e.bounds.x,y:e.bounds.y},l=t,a={x:t.bounds.x,y:t.bounds.y};t=n,(e=l).updatePositions.call(e,i.x,i.y),t.updatePositions.call(t,a.x,a.y)}},{key:"rotate",value:function(e){0!==this.children.length&&(1===e?(this.swapNodes(this.children[0],this.children[3]),this.swapNodes(this.children[3],this.children[2]),this.swapNodes(this.children[2],this.children[1])):0===e&&(this.swapNodes(this.children[0],this.children[1]),this.swapNodes(this.children[1],this.children[2]),this.swapNodes(this.children[2],this.children[3])))}},{key:"getDrawingParams",value:function(){var e=[];return function t(n){0==n.children.length?e.push({bounds:n.bounds,fill:n.color,stroke:{color:"#000000",width:1}}):n.children.forEach((function(e){t(e)})),n.highlighted&&e.push({bounds:n.bounds,stroke:{color:"#FFFFFF",width:5}})}(this),e}},{key:"updatePositions",value:function(e,t){this.bounds.x=e,this.bounds.y=t;!function e(t,n,i){if(0!=t.children.length){var l=t.bounds.size/2;t.children[0].bounds=new v(n+l,i,l),e(t.children[0],t.children[0].bounds.x,t.children[0].bounds.y),t.children[1].bounds=new v(n,i,l),e(t.children[1],t.children[1].bounds.x,t.children[1].bounds.y),t.children[2].bounds=new v(n,i+l,l),e(t.children[2],t.children[2].bounds.x,t.children[2].bounds.y),t.children[3].bounds=new v(n+l,i+l,l),e(t.children[3],t.children[3].bounds.x,t.children[3].bounds.y)}}(this,e,t)}},{key:"getSelectedRectangle",value:function(e,t,n){var i=function i(l){if(l.level==n||0==l.children.length)return l;var a=null;return l.children.forEach((function(n){var l=n.bounds.x,s=n.bounds.x+n.bounds.size,o=n.bounds.y,r=n.bounds.y+n.bounds.size;e>=l&&e<=s&&t>=o&&t<=r&&(a=i(n))})),a};return i(this)}}]),e}(),g=null;var w=function(){var e=Object(i.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(i.useState)(5),u=Object(o.a)(s,2),m=u[0],w=u[1],f=Object(i.useState)(0),p=Object(o.a)(f,2),y=p[0],x=p[1],k=Object(i.useState)(null),E=Object(o.a)(k,2),L=E[0],F=E[1],N=function(e){var t=document.getElementById("canvas"),n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),e.forEach((function(e){var t=e.bounds;n.beginPath(),n.rect(t.x,t.y,t.size,t.size),e.fill&&(n.fillStyle=e.fill,n.fill()),e.stroke&&(n.strokeStyle=e.stroke.color,n.lineWidth=e.stroke.width,n.stroke()),n.closePath()}))};return l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"TopPanel"},l.a.createElement(r.a,{style:{marginBottom:"2em"},variant:"contained",color:"primary",onClick:function(){var e=new b(0,m,new v(0,0,400),["#FF0000","#00FF00","#0000FF","#FFFF00"]);F(e);!function e(t,n){t>0&&(n.split(),n.children.forEach((function(n){Math.random()>=.5&&e(t-1,n)})))}(m,e),N(e.getDrawingParams()),a(!0)}},"New Game"),l.a.createElement(h.a,{id:"select-max-level",gutterBottom:!0},"Max level"),l.a.createElement(c.a,{color:"primary",defaultValue:5,"aria-labelledby":"select-max-level",step:1,marks:!0,min:1,max:9,valueLabelDisplay:"auto",onChange:function(e,t){w(t)}})),l.a.createElement("div",{className:"Content"},l.a.createElement("div",{id:"scene"},l.a.createElement("canvas",{id:"canvas",width:"400",height:"400",style:{backgroundColor:"whitesmoke"},onClick:function(e){if(L){var t=e.currentTarget.getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top;g&&(g.highlighted=!1),(g=L.getSelectedRectangle(n,i,y)).highlighted=!0,N(L.getDrawingParams())}}})),n&&l.a.createElement("div",{className:"ControlsContainer"},l.a.createElement(h.a,{id:"select-action-level",gutterBottom:!0},"Select level"),l.a.createElement(c.a,{defaultValue:0,"aria-labelledby":"select-action-level",step:1,marks:!0,min:0,max:m,valueLabelDisplay:"on",onChange:function(e,t){x(t)}}),l.a.createElement(d.a,{variant:"contained",color:"primary","aria-label":"contained primary button group",style:{marginBottom:"2em"}},l.a.createElement(r.a,{onClick:function(){null!=g&&(g.rotate(1),N(L.getDrawingParams()))}},"Rotate clockwise"),l.a.createElement(r.a,{onClick:function(){null!=g&&(g.rotate(0),N(L.getDrawingParams()))}},"Rotate counterclockwise")),l.a.createElement(d.a,{variant:"contained",color:"primary","aria-label":"contained primary button group",style:{marginBottom:"2em"}},l.a.createElement(r.a,{onClick:function(){null!=g&&(g.swap(1),N(L.getDrawingParams()))}},"Swap horizontally"),l.a.createElement(r.a,{onClick:function(){null!=g&&(g.swap(0),N(L.getDrawingParams()))}},"Swap vertically")),l.a.createElement(d.a,{variant:"contained",color:"primary","aria-label":"contained primary button group",style:{marginBottom:"2em"}},l.a.createElement(r.a,{onClick:function(){null!=g&&(g.smash(),N(L.getDrawingParams()))}},"Smash")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.9eabcad3.chunk.js.map